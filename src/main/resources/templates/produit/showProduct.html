<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments::html_head" />

<body>
    <div th:replace="fragments::header"/>

    <div th:replace="fragments::menu"/>

    <div class="row">
        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
            <h2>Liste des produits</h2>
            <div class="row">
                <div class="col-3">
                    <a th:href="@{/produit/create/}" class="btn btn-warning ">Créer un nouveau produit</a>
                </div>
                <div class="col-3">
                    <a th:href="@{/produit/show/}" class="btn btn-secondary ">Tous les produits</a>
                </div>
                <div  class="col-6">
                    <form th:action="@{/produit/fshow}" method="post">
                        <input type="search" class="form-control" placeholder="Search..." aria-label="Search" name="nom">
                    </form>
                </div>
            </div>
            <div class="row">
                <table class="table table-striped table-hover">
                    <thead >
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Libelle</th>
                        <th scope="col">Qte Stock</th>
                        <th scope="col">Qte Seuil</th>
                        <th scope="col">Prix</th>
                        <th scope="col">Date Création</th>
                        <th scope="col">Catégorie</th>
                        <th scope="col"></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each = "produit:${listProduit}">
                        <th scope="row" th:text="${produit.id}"></th>
                        <td th:text="${produit.libelle}"></td>
                        <td th:text="${produit.qteStock}"></td>
                        <td th:text="${produit.qteSeuil}"></td>
                        <td th:text="${produit.prix}"></td>
                        <td th:text="${produit.dateCreation}"></td>
                        <td th:text="${produit.category.designation}"></td>
                        <td>
                            <a th:href="@{/produit/edit/{id}(id=${produit.id})}" class="btn btn-warning">Edit</a>
                            <a th:href="@{/produit/conf/{id}(id=${produit.id})}" class="btn btn-danger">Delete</a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </main>
    </div>

    <script type="text/javascript" th:src="@{/js/bootstrap.bundle.min.js}"></script>
    <script th:src="@{/assets/dist/js/bootstrap.bundle.min.js}"/>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons@4.28.0/dist/feather.min.js"
            integrity="sha384-uO3SXW5IuS1ZpFPKugNNWqTZRRglnUJK6UAZ/gxOX80nxEkN9NcGZTftn6RzhGWE"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"
            integrity="sha384-zNy6FEbO50N+Cg5wap8IKA4M/ZnLJgzc6w2NqACZaK0u0FXfOWRRJOnQtpZun8ha"
            crossorigin="anonymous">
    </script><script th:src="@{/css/dashboard.js}"></script>
</body>
</html>